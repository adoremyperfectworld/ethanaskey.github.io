<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Ethan's Photography</title>
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, maximum-scale=5, user-scalable=yes"
    />
    <meta name="theme-color" content="#000000" />
    <link rel="stylesheet" href="css/styles.css" />
    <!-- GSAP CDN -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/ScrollTrigger.min.js"></script>
  </head>

  <body>
    <header class="photos-header">
      <a href="index.html" class="home-link">home</a>
    </header>

    <div class="wordmark">
      <h1>ethan</h1>
      <h1>rodrigoaskey</h1>
    </div>

    <!-- Human Carousel -->
    <section class="carousel-section">
      <h2 class="carousel-title">human</h2>
      <div class="carousel-container">
        <button class="carousel-button prev" onclick="prevSlide('human')">
          &lsaquo;
        </button>
        <div class="carousel" data-carousel="human">
          <div class="carousel-slide">
            <img
              src="img/IMG_9423.JPG"
              alt="Human Photo 1"
              class="gallery-img"
            />
          </div>
          <div class="carousel-slide">
            <img
              src="img/IMG_9577.JPG"
              alt="Human Photo 2"
              class="gallery-img"
            />
          </div>
          <div class="carousel-slide">
            <img
              src="img/edward-skeletrix-pain-couture-Cover-Art.jpg"
              alt="Human Photo 2"
              class="gallery-img"
            />
          </div>
          <div class="carousel-slide">
            <img
              src="img/11341337.jpeg"
              alt="Human Photo 2"
              class="gallery-img"
            />
          </div>
          <div class="carousel-slide">
            <img
              src="img/IMG_4309.jpg"
              alt="Human Photo 3"
              class="gallery-img"
            />
          </div>
          <div class="carousel-slide">
            <img
              src="img/IMG_8637.jpg"
              alt="Human Photo 4"
              class="gallery-img"
            />
          </div>
        </div>
        <button class="carousel-button next" onclick="nextSlide('human')">
          &rsaquo;
        </button>
      </div>
    </section>

    <!-- Moments Carousel -->
    <section class="carousel-section">
      <h2 class="carousel-title">moments</h2>
      <div class="carousel-container">
        <button class="carousel-button prev" onclick="prevSlide('moments')">
          &lsaquo;
        </button>
        <div class="carousel" data-carousel="moments">
          <div class="carousel-slide">
            <img
              src="img/IMG_4860.jpg"
              alt="Moments Photo 1"
              class="gallery-img"
            />
          </div>
          <div class="carousel-slide">
            <img
              src="img/IMG_9206 2 2.JPG"
              alt="Moments Photo 2"
              class="gallery-img"
            />
          </div>

          <div class="carousel-slide">
            <img
              src="img/IMG_7187.jpg"
              alt="Moments Photo 4"
              class="gallery-img"
            />
          </div>
        </div>
        <button class="carousel-button next" onclick="nextSlide('moments')">
          &rsaquo;
        </button>
      </div>
    </section>

    <!-- Arcadia Carousel -->
    <section class="carousel-section">
      <h2 class="carousel-title">Arcadia</h2>
      <div class="carousel-container">
        <button class="carousel-button prev" onclick="prevSlide('arcadia')">
          &lsaquo;
        </button>
        <div class="carousel" data-carousel="arcadia">
          <div class="carousel-slide">
            <img
              src="img/IMG_4327 2.JPG"
              alt="Arcadia Photo 1"
              class="gallery-img"
            />
          </div>
          <div class="carousel-slide">
            <img
              src="img/IMG_9063.JPG"
              alt="Arcadia Photo 2"
              class="gallery-img"
            />
          </div>
          <div class="carousel-slide">
            <img
              src="img/IMG_9423.JPG"
              alt="Arcadia Photo 3"
              class="gallery-img"
            />
          </div>
          <div class="carousel-slide">
            <img
              src="img/IMG_9577.JPG"
              alt="Arcadia Photo 4"
              class="gallery-img"
            />
          </div>
        </div>
        <button class="carousel-button next" onclick="nextSlide('arcadia')">
          &rsaquo;
        </button>
      </div>
    </section>

    <footer>
      <h1>
        thank you for visiting.<br />
        Inquiries/collaborations/commissions:<br />
        ethanaskey@icloud.com<br />
        #twothreesixfiveonethreefouroneninetwo
      </h1>
    </footer>

    <script>
      // Register ScrollTrigger plugin
      gsap.registerPlugin(ScrollTrigger);

      // Track current slide for each carousel
      const carouselStates = {
        human: 0,
        moments: 0,
        arcadia: 0,
      };

      function showSlide(carouselName, index) {
        const carousel = document.querySelector(
          `[data-carousel="${carouselName}"]`
        );
        const slides = carousel.querySelectorAll(".carousel-slide");

        slides.forEach((slide) => {
          slide.classList.remove("active");
        });

        slides[index].classList.add("active");
      }

      function nextSlide(carouselName) {
        const carousel = document.querySelector(
          `[data-carousel="${carouselName}"]`
        );
        const slides = carousel.querySelectorAll(".carousel-slide");
        const totalSlides = slides.length;

        carouselStates[carouselName] =
          (carouselStates[carouselName] + 1) % totalSlides;
        showSlide(carouselName, carouselStates[carouselName]);
      }

      function prevSlide(carouselName) {
        const carousel = document.querySelector(
          `[data-carousel="${carouselName}"]`
        );
        const slides = carousel.querySelectorAll(".carousel-slide");
        const totalSlides = slides.length;

        carouselStates[carouselName] =
          carouselStates[carouselName] === 0
            ? totalSlides - 1
            : carouselStates[carouselName] - 1;
        showSlide(carouselName, carouselStates[carouselName]);
      }

      // Initialize all carousels
      function initializeCarousels() {
        Object.keys(carouselStates).forEach((carouselName) => {
          showSlide(carouselName, 0);
        });
      }

      // GSAP animations for carousel images
      gsap.utils.toArray(".gallery-img").forEach((img, index) => {
        gsap.set(img, {
          y: 30,
          opacity: 0,
          scale: 0.95,
        });

        gsap.to(img, {
          y: 0,
          opacity: 1,
          scale: 1,
          duration: 0.8,
          ease: "power2.out",
          scrollTrigger: {
            trigger: img.closest(".carousel-section"),
            start: "top 80%",
            end: "bottom 20%",
            toggleActions: "play none none reverse",
          },
        });
      });

      // Initialize on page load
      document.addEventListener("DOMContentLoaded", initializeCarousels);

      // Add keyboard navigation
      document.addEventListener("keydown", (e) => {
        if (e.key === "ArrowRight") {
          // Find the carousel in view and advance it
          const carousels = document.querySelectorAll(".carousel-container");
          carousels.forEach((container) => {
            const rect = container.getBoundingClientRect();
            if (rect.top < window.innerHeight && rect.bottom > 0) {
              const carousel = container.querySelector(".carousel");
              const carouselName = carousel.getAttribute("data-carousel");
              nextSlide(carouselName);
            }
          });
        } else if (e.key === "ArrowLeft") {
          // Find the carousel in view and go back
          const carousels = document.querySelectorAll(".carousel-container");
          carousels.forEach((container) => {
            const rect = container.getBoundingClientRect();
            if (rect.top < window.innerHeight && rect.bottom > 0) {
              const carousel = container.querySelector(".carousel");
              const carouselName = carousel.getAttribute("data-carousel");
              prevSlide(carouselName);
            }
          });
        }
      });
    </script>
  </body>
</html>
